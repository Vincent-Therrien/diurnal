diurnal
=======

- `English (en) <#Predict-RNA-Secondary-Structures>`_
- `Français (fr) <#Prédire-les-structures-secondaires-de-lARN>`_

.. image:: docs/images/structure_example_no_text.png
   :alt: The primary and secondary structures of a short RNA molecule.
   :align: center

Predict RNA Secondary Structures
--------------------------------

This project is a Python library that can predict RNA secondary structures with
neural networks.

The project requires Pytorch, which can be installed as described on the page
https://pytorch.org/get-started/locally/.


Installation
````````````

Using an active Python virtual environment in which Pytorch is installed,
install the diurnal library with the following commands:

.. code-block:: bash

   cd diurnal
   pip install .


Documentation
````````````

The documentation is available `here <https://vincent-therrien.github.io/>`_.

The documentation can be generated by installing the requirement packages
with the command:

.. code-block:: bash

   pip install -r docs/requirements.txt

and building the content with the following commands:

.. code-block:: bash

   cd docs
   make html


Demonstrations
````````````

The following
`notebook <https://github.com/Vincent-Therrien/diurnal/blob/main/demo/example.ipynb>`_
presents a full use case of the library.

The directory ``demo`` contains usage examples of the library. You can execute
them as Python scripts, as shown below:

.. code-block:: bash

   python3 demo/baseline.py # On Linux
   py demo/baseline.py # On Windows


Test Suite
````````````

The test suite can be executed with the command:

.. code-block:: bash

   pytest test


.. _Français - fr:

Prédire les structures secondaires de l'ARN
-------------------------------------------

Ce projet vise à prédire la structure secondaire de molécules d'ARN avec des
réseaux neuronaux. Il comprend les répertoires suivants :

- ``demo`` : Scripts Python qui illustrent l'utilisation de la bibliothèque.
- ``docs`` : Fichiers de documentation réalisés avec l'outil ``Sphinx``.
- ``diurnal`` : Fichiers sources des modèles. Le projet ùtilise le langage
  ``Python`` et la bibliothèque ``PyTorch``.
- ``test`` : Scripts utilisés pour valider le format des données et les
  modèles. Ils utilisent ``Python`` et la bibliothèque ``pytest``.


Installation
````````````

En utilisant un environnement Python actif dans lequel la bibliothèque PyTorch
est installée, exécutez les commandes suivantes pour installer la bibliothèque:

.. code-block:: bash

   cd diurnal
   pip install .


Documentation
``````````````

La documentation est disponible `ici <https://vincent-therrien.github.io/>`_.

Vous pouvez aussi obtenir une version locale de la documentation en installant
les modules requis avec la commande

.. code-block:: bash

   pip install -r docs/requirements.txt

et en générant la documentation avec les commandes :

.. code-block:: bash

   cd docs
   make html


Scripts de démonstration
````````````````````````

Le `carnet interactif <https://github.com/Vincent-Therrien/diurnal/blob/main/demo/example.ipynb>`_
inclus dans le répertoire des démonstrations présente un cas d'utilisation
complet de la bibliothèque.

Consultez le répertoire ``./demo`` pour voir des exemples commentés
d'utilisation de la bibliothèque. Vous pouvez les exécuter comme le montre les
commandes suivantes :

.. code-block:: bash

   python3 demo/baseline.py # Sous Linux
   py demo/baseline.py # Sous Windows


Obtenir l'ensemble de données
`````````````````````````````

La bibliothèque permet de télécharger et de décompresser trois ensembles de
données :

- ArchiveII
- RNASTRalign
- RNA_STRAND

Exécutez le script suivant pour obtenir les données :

.. code-block:: python

   import diurnal.database as db
   db.download_all("./data/")


Cadre de tests
``````````````

Le dépôt contient un cadre de tests automatisés développé avec la bibliothèque
``pytest``. Lancez les commandes suivantes pour l'exécuter.

.. code-block:: bash

   pytest test
